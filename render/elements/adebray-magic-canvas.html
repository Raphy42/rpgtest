<dom-module id="adebray-magic-canvas">
  <template>
    <style>
      :host {
        display: inline-block;
      }

	  canvas {
		  border: 1px solid black;
		  width: 25px;
		  height: 25px;
		  image-rendering: pixelated;
	  }
    </style>

	<canvas></canvas>

  </template>
  <script>
    Polymer({
      is: 'adebray-magic-canvas',

	  properties: {
		  value: Number
	  },

	  attached: function () {
			let canvas = this.$$('canvas')
			canvas.width = 5
			canvas.height = 5

			let ctx = canvas.getContext('2d')
			let w = 1
			let h = 1

			let harmonizer = new Harmonizer()
			let harmony = harmonizer.shades('#c820f1', 3)

			console.log(harmony)


			let cnt = 0
			for (var i = 0; i < this.value; i++) {
				var _w = canvas.width - w * i
				var _h = canvas.height - h * i
				for (var x = 0; x < _w; x += w) {
					for (var y = 0; y < _h; y += h) {

						if (cnt < this.value) {
							ctx.fillStyle = harmony[i]
							ctx.fillRect(x + (w * i / 2), y + (h * i / 2), w, h)
						}

						cnt += 1
					}
				}
			}
	  }
    });
  </script>
</dom-module>
