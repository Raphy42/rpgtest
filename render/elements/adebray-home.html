<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/marked-element/marked-element.html">

<link rel="import" href="../elements/adebray-work.html">
<link rel="import" href="../elements/adebray-map.html">
<link rel="import" href="../elements/adebray-pretty.html">
<link rel="import" href="../elements/adebray-graph.html">
<link rel="import" href="../elements/adebray-collapse.html">

<dom-module id="adebray-home">
	<template>
		<style>
			:host {
				display: block;
				--paper-tab-ink : red;
				--paper-tabs-selection-bar-color: red;
			}
		</style>

		<paper-tabs attr-for-selected=route selected={{route}}>
			<paper-tab route=map>map</paper-tab>
			<paper-tab route=pretty>pretty</paper-tab>
			<paper-tab route=work>work</paper-tab>
			<paper-tab route=graph>graph</paper-tab>
			<paper-tab route=todo>todo</paper-tab>
		</paper-tabs>
		<iron-pages attr-for-selected=route selected={{route}}>
			<section route="map">
				<adebray-map></adebray-map>
			</section>
			<section route="pretty">
				<adebray-pretty></adebray-pretty>
			</section>
			<section route="work">
				<adebray-work></adebray-work>
			</section>
			<section route="graph">
				<adebray-graph></adebray-graph>
			</section>
			<section route="todo">
				<iron-ajax
					auto
					url="../TODO.md"
					handle-as="text"
					last-response="{{res}}">
				</iron-ajax>

				<marked-element markdown={{res}}>
      				<div class="markdown-html"></div>
    			</marked-element>
			</section>
		</iron-pages>

	</template>
	<script>
		Polymer({
			is: 'adebray-home',

			properties: {
				route: {
					type: String,
					value: 'todo',
					observer: 'log'
				}
			},

			log: function (e) {
				console.log(e)
			}

		});
	</script>
</dom-module>
